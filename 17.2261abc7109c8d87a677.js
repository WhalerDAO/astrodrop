(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{HRdN:function(t,e,r){"use strict";r.r(e),(function(t){r.d(e,"default",function(){return c});var n=r("pn0g"),o=r("qPxQ"),i=(r("kB5k"),r("o8pB"));const s={eth:1,erc20:2,erc721:3,erc20mintable:4,erc721mintable:5};function a(e){return t.from(e.startsWith("0x")?e.slice(2):e,"hex")}function h(t){return t?a(t):null}class c{constructor(t,e="w0w"){this.transport=void 0,this.transport=t,t.decorateAppAPIMethods(this,["getAddress","provideERC20TokenInformation","signTransaction","signPersonalMessage","getAppConfiguration","signEIP712HashedMessage","starkGetPublicKey","starkSignOrder","starkSignOrder_v2","starkSignTransfer","starkSignTransfer_v2","starkProvideQuantum","starkProvideQuantum_v2","starkUnsafeSign","eth2GetPublicKey","eth2SetWithdrawalIndex"],e)}getAddress(e,r,o){let i=Object(n.b)(e),s=t.alloc(1+4*i.length);return s[0]=i.length,i.forEach((t,e)=>{s.writeUInt32BE(t,1+4*e)}),this.transport.send(224,2,r?1:0,o?1:0,s).then(t=>{let e={},r=t[0],n=t[1+r];return e.publicKey=t.slice(1,1+r).toString("hex"),e.address="0x"+t.slice(1+r+1,1+r+1+n).toString("ascii"),o&&(e.chainCode=t.slice(1+r+1+n,1+r+1+n+32).toString("hex")),e})}provideERC20TokenInformation({data:t}){return this.transport.send(224,10,0,0,t).then(()=>!0,t=>{if(t&&27904===t.statusCode)return!1;throw t})}signTransaction(e,r){let s,a=Object(n.b)(e),h=0,c=t.from(r,"hex"),l=[],g=Object(i.decode)(c),p=0,d="";if(g.length>6){let e=Object(i.encode)(g.slice(-3));p=c.length-(e.length-1);const r=g[6],n=t.alloc(4);r.copy(n,4-r.length),d=(2*n.readUInt32BE(0)).toString(16).slice(0,-2),d.length%2==1&&(d="0"+d)}for(;h!==c.length;){let e=0===h?149-4*a.length:150,r=h+e>c.length?c.length-h:e;0!=p&&h+r==p&&r--;let n=t.alloc(0===h?1+4*a.length+r:r);0===h?(n[0]=a.length,a.forEach((t,e)=>{n.writeUInt32BE(t,1+4*e)}),c.copy(n,1+4*a.length,h,h+r)):c.copy(n,0,h,h+r),l.push(n),h+=r}return Object(n.a)(l,(t,e)=>this.transport.send(224,4,0===e?0:128,0,t).then(t=>{s=t})).then(()=>({v:d+s.slice(0,1).toString("hex"),r:s.slice(1,33).toString("hex"),s:s.slice(33,65).toString("hex")}),t=>{throw(t=>t&&27264===t.statusCode?new o.a("Please enable Contract data on the Ethereum app Settings"):t)(t)})}getAppConfiguration(){return this.transport.send(224,6,0,0).then(t=>{let e={};return e.arbitraryDataEnabled=1&t[0],e.erc20ProvisioningNecessary=2&t[0],e.starkEnabled=4&t[0],e.starkv2Supported=8&t[0],e.version=t[1]+"."+t[2]+"."+t[3],e})}signPersonalMessage(e,r){let o,i=Object(n.b)(e),s=0,a=t.from(r,"hex"),h=[];for(;s!==a.length;){let e=0===s?149-4*i.length-4:150,r=s+e>a.length?a.length-s:e,n=t.alloc(0===s?1+4*i.length+4+r:r);0===s?(n[0]=i.length,i.forEach((t,e)=>{n.writeUInt32BE(t,1+4*e)}),n.writeUInt32BE(a.length,1+4*i.length),a.copy(n,1+4*i.length+4,s,s+r)):a.copy(n,0,s,s+r),h.push(n),s+=r}return Object(n.a)(h,(t,e)=>this.transport.send(224,8,0===e?0:128,0,t).then(t=>{o=t})).then(()=>({v:o[0],r:o.slice(1,33).toString("hex"),s:o.slice(33,65).toString("hex")}))}signEIP712HashedMessage(e,r,o){const i=a(r),s=a(o);let h=Object(n.b)(e),c=t.alloc(1+4*h.length+32+32,0),l=0;return c[0]=h.length,h.forEach((t,e)=>{c.writeUInt32BE(t,1+4*e)}),l=1+4*h.length,i.copy(c,l),l+=32,s.copy(c,l),this.transport.send(224,12,0,0,c).then(t=>({v:t[0],r:t.slice(1,33).toString("hex"),s:t.slice(33,65).toString("hex")}))}starkGetPublicKey(e,r){let o=Object(n.b)(e),i=t.alloc(1+4*o.length);return i[0]=o.length,o.forEach((t,e)=>{i.writeUInt32BE(t,1+4*e)}),this.transport.send(240,2,r?1:0,0,i).then(t=>t.slice(0,t.length-2))}starkSignOrder(e,r,o,i,s,a,c,l,g,p,d){const u=h(r),S=h(i);let f=Object(n.b)(e),w=t.alloc(1+4*f.length+20+32+20+32+4+4+8+8+4+4,0),E=0;return w[0]=f.length,f.forEach((t,e)=>{w.writeUInt32BE(t,1+4*e)}),E=1+4*f.length,u&&u.copy(w,E),E+=20,t.from(o.toString(16).padStart(64,"0"),"hex").copy(w,E),E+=32,S&&S.copy(w,E),E+=20,t.from(s.toString(16).padStart(64,"0"),"hex").copy(w,E),E+=32,w.writeUInt32BE(a,E),E+=4,w.writeUInt32BE(c,E),E+=4,t.from(l.toString(16).padStart(16,"0"),"hex").copy(w,E),E+=8,t.from(g.toString(16).padStart(16,"0"),"hex").copy(w,E),E+=8,w.writeUInt32BE(p,E),E+=4,w.writeUInt32BE(d,E),this.transport.send(240,4,1,0,w).then(t=>({r:t.slice(1,33).toString("hex"),s:t.slice(33,65).toString("hex")}))}starkSignOrder_v2(e,r,o,i,a,c,l,g,p,d,u,S,f,w,E){const y=h(r),x=h(c);if(!(o in s))throw new Error("eth.starkSignOrderv2 invalid source quantization type="+o);if(!(l in s))throw new Error("eth.starkSignOrderv2 invalid destination quantization type="+l);let b=Object(n.b)(e),I=t.alloc(1+4*b.length+1+20+32+32+1+20+32+32+4+4+8+8+4+4,0),m=0;return I[0]=b.length,b.forEach((t,e)=>{I.writeUInt32BE(t,1+4*e)}),m=1+4*b.length,I[m]=s[o],m++,y&&y.copy(I,m),m+=20,i&&t.from(i.toString(16).padStart(64,"0"),"hex").copy(I,m),m+=32,a&&t.from(a.toString(16).padStart(64,"0"),"hex").copy(I,m),m+=32,I[m]=s[l],m++,x&&x.copy(I,m),m+=20,g&&t.from(g.toString(16).padStart(64,"0"),"hex").copy(I,m),m+=32,p&&t.from(p.toString(16).padStart(64,"0"),"hex").copy(I,m),m+=32,I.writeUInt32BE(d,m),m+=4,I.writeUInt32BE(u,m),m+=4,t.from(S.toString(16).padStart(16,"0"),"hex").copy(I,m),m+=8,t.from(f.toString(16).padStart(16,"0"),"hex").copy(I,m),m+=8,I.writeUInt32BE(w,m),m+=4,I.writeUInt32BE(E,m),this.transport.send(240,4,3,0,I).then(t=>({r:t.slice(1,33).toString("hex"),s:t.slice(33,65).toString("hex")}))}starkSignTransfer(e,r,o,i,s,c,l,g,p){const d=h(r),u=a(i);let S=Object(n.b)(e),f=t.alloc(1+4*S.length+20+32+32+4+4+8+4+4,0),w=0;return f[0]=S.length,S.forEach((t,e)=>{f.writeUInt32BE(t,1+4*e)}),w=1+4*S.length,d&&d.copy(f,w),w+=20,t.from(o.toString(16).padStart(64,"0"),"hex").copy(f,w),w+=32,u.copy(f,w),w+=32,f.writeUInt32BE(s,w),w+=4,f.writeUInt32BE(c,w),w+=4,t.from(l.toString(16).padStart(16,"0"),"hex").copy(f,w),w+=8,f.writeUInt32BE(g,w),w+=4,f.writeUInt32BE(p,w),this.transport.send(240,4,2,0,f).then(t=>({r:t.slice(1,33).toString("hex"),s:t.slice(33,65).toString("hex")}))}starkSignTransfer_v2(e,r,o,i,c,l,g,p,d,u,S,f,w){const E=h(r),y=a(l),x=h(f);if(!(o in s))throw new Error("eth.starkSignTransferv2 invalid quantization type="+o);let b=Object(n.b)(e),I=t.alloc(1+4*b.length+1+20+32+32+32+4+4+8+4+4+(x?52:0),0),m=0;return I[0]=b.length,b.forEach((t,e)=>{I.writeUInt32BE(t,1+4*e)}),m=1+4*b.length,I[m]=s[o],m++,E&&E.copy(I,m),m+=20,i&&t.from(i.toString(16).padStart(64,"0"),"hex").copy(I,m),m+=32,c&&t.from(c.toString(16).padStart(64,"0"),"hex").copy(I,m),m+=32,y.copy(I,m),m+=32,I.writeUInt32BE(g,m),m+=4,I.writeUInt32BE(p,m),m+=4,t.from(d.toString(16).padStart(16,"0"),"hex").copy(I,m),m+=8,I.writeUInt32BE(u,m),m+=4,I.writeUInt32BE(S,m),x&&w&&(m+=4,t.from(w.toString(16).padStart(64,"0"),"hex").copy(I,m),m+=32,x.copy(I,m)),this.transport.send(240,4,x?5:4,0,I).then(t=>({r:t.slice(1,33).toString("hex"),s:t.slice(33,65).toString("hex")}))}starkProvideQuantum(e,r){const n=h(e);let o=t.alloc(52,0);return n&&n.copy(o,0),t.from(r.toString(16).padStart(64,"0"),"hex").copy(o,20),this.transport.send(240,8,0,0,o).then(()=>!0,t=>{if(t&&27904===t.statusCode)return!1;throw t})}starkProvideQuantum_v2(e,r,n,o){const i=h(e);if(!(r in s))throw new Error("eth.starkProvideQuantumV2 invalid quantization type="+r);let a=t.alloc(84,0),c=0;return i&&i.copy(a,c),c+=20,n&&t.from(n.toString(16).padStart(64,"0"),"hex").copy(a,c),c+=32,o&&t.from(o.toString(16).padStart(64,"0"),"hex").copy(a,c),this.transport.send(240,8,s[r],0,a).then(()=>!0,t=>{if(t&&27904===t.statusCode)return!1;throw t})}starkUnsafeSign(e,r){const o=a(r);let i=Object(n.b)(e),s=t.alloc(1+4*i.length+32),h=0;return s[0]=i.length,i.forEach((t,e)=>{s.writeUInt32BE(t,1+4*e)}),h=1+4*i.length,o.copy(s,h),this.transport.send(240,10,0,0,s).then(t=>({r:t.slice(1,33).toString("hex"),s:t.slice(33,65).toString("hex")}))}eth2GetPublicKey(e,r){let o=Object(n.b)(e),i=t.alloc(1+4*o.length);return i[0]=o.length,o.forEach((t,e)=>{i.writeUInt32BE(t,1+4*e)}),this.transport.send(224,14,r?1:0,0,i).then(t=>{let e={};return e.publicKey=t.slice(0,-2).toString("hex"),e})}eth2SetWithdrawalIndex(e){let r=t.alloc(4,0);return r.writeUInt32BE(e,0),this.transport.send(224,16,0,0,r).then(()=>!0,t=>{if(t&&27904===t.statusCode)return!1;throw t})}}}).call(this,r("tjlA").Buffer)},pn0g:function(t,e,r){"use strict";function n(t){let e=[];return t.split("/").forEach(t=>{let r=parseInt(t,10);isNaN(r)||(t.length>1&&"'"===t[t.length-1]&&(r+=2147483648),e.push(r))}),e}function o(t,e){function r(t,n,o){return t>=n.length?o:e(n[t],t).then(function(e){return o.push(e),r(t+1,n,o)})}return Promise.resolve().then(()=>r(0,t,[]))}r.d(e,"b",function(){return n}),r.d(e,"a",function(){return o})}}]);